<h1>**ვებ სქრეიფერი + RAG სისტემა + ჩათბოტი**</h1>

დეტალური აღწერა

<h2>**I - ვებ სქრეიფერი**</h2>

რამდენიმე სექციად არის დაყოფილი საიტის კომპლექსურობიდან გამომდინარე. მონაცემები მომაქვს ჯერ "დაუმუშავებლად", შემდეგ მცირე ცვლილებების გავლის მერე გადადის Processed ფოლდერში. ორივეგან ვიყენებ JSON ფორმატს.

<h3>1 - playwright_scrape.py</h3>

გამოყენებული მაქვს package სახელად PlayWright. საწყისი იდეა იყო BS4 მაგრამ დინამიური ჩატვირთვის გამო არ იმუშავა და სელენიუმის უკეთესი ვარიანტია ეს პაკეტი.

რას აკეთებს კოდი - შედის საიტზე, ქუქიებს ადასტურებს (რადგან ინკოგნიტოში ვართ აუცილებლად დაგვჭირდება), შემდეგ ჩადის ბოლომდე ქვემოთ (lazy loading-ისგან თავის დასაზღვევად) და უცდის კონტენტის ჩატვირთვას.

ჩატვირთვის შემდეგ ეძებს გვერდების რაოდენობას (pagination) და შაბლონი არის ასეთი - გვერდის მიხედვით ლინკი გარდაიქმნება bog.ge...currentPage{<span style="color:blue;">X Page</span>}. აქედან უკვე გადადის თითოეულ გვერდზე და სქრეიფერი ირთვება.

<h3>2 - detail_workers.py</h3>

{<span style="color:red;">კიდევ ერთი კომპლექსურობა</span>} - ძირითადი ინფო მთავარ გვერდზე იყო, აღწერა კი უშუალოდ შეთავაზების გვერდზე. ამიტომ, ჯერ ერთიანად მომქონდა მთელი დატა (მათ შორის href) და ამის შემდეგ ვუშვებ <b>4 პარალელურ worker-ს<b> და თითოეული სქრეფავს მთელ მონაცეცმებს.

Headless = False მაქვს მითითებული ამიტომ ეს პროცესი ვიზუალურადაც კარგად ჩანს.

<h3>3 - city_scrape.py</h3>

{<span style="color:red;">პრობლემა N3</span>} - ქალაქები არ იყო მითითებული არსად. ამისთვის აუცილებელი იყო სექციაში თითოეულის მონიშვნა და კიდევ ორი სკრაპერის გაშვება - პირველი ეძებს ქალაქებს და მათ შესაბამის კოდებს (თბილისი-37 და ა.შ). ეს აუცილებელია რადგან bog.ge...cityId=37 ასეთი ტიპის ტრანსფორმაციას ვიღებთ მოძებნისას. ამაზე ცალკე სქრაფერი იმიტომ დავამატე, რომ ქალაქის დამატების შემთხვევაში ავტმატიზირებულად შეიძლებოდეს id-ებისა და ქალაქების ბაზის განახლება. 

<h3>4 - append_cities.py</h3>

მეორე სკრაპერი კი თითეულ ქალაქზე გადადის და ეძებს offer card-ებს, შემდეგ კი შესაბამისი თანმიმდევრობით უკეთებს append-ს დატაში.

<h3>BONUS - taxonomy.json</h3>

დავამატე მონაცემების ტაქსონომია რათა უფრო გასასგები იყოს რაგის სისტემისთვის რა რას ნიშნავს. მაგ. რას ნიშნავს "%","X" და ა.შ.


<h2>**II - RAG სისტემა**</h2>