# Qdrant Cloud (or local)
QDRANT_URL=https://YOUR-CLUSTER-HOST
QDRANT_API_KEY=YOUR_API_KEY
COLLECTION_NAME=bog_offers
QDRANT_DISTANCE=COSINE

# Embeddings
EMBEDDING_MODEL=BAAI/bge-m3
# TOP_K = how many candidates we pull from Qdrant before reranking.
# Quality preset: 8-15 (better recall). Speed preset: 5-8.
TOP_K=10

# Prompt formatting
# Set -1 to disable truncation
OFFER_DESC_MAX_CHARS=2000

# Retrieval relevance tuning (optional)
# MIN_SIMILARITY_SCORE filters noisy results. If you see random offers, try 0.05-0.20.
MIN_SIMILARITY_SCORE=0.05

# LEXICAL_BOOST increases exact keyword overlap importance (names/cities/brands).
# If the bot drifts on short queries, try 0.20-0.35.
LEXICAL_BOOST=0.20

# MAX_RESULTS_FOR_PROMPT = how many offers the LLM sees for recommendation-style queries.
# Note: if user asks for N offers, the chatbot will try to return N.
MAX_RESULTS_FOR_PROMPT=6
MAX_FACTUAL_RESULTS=1
MIN_FACTUAL_OVERLAP=0.10

# LLM behavior (optional)
LLM_TEMPERATURE=0.2
HISTORY_TO_KEEP=4

# Follow-up + context carry-over tuning
# FOLLOWUP_OFFER_LIMIT = how many previous offers we keep/merge on follow-ups (prevents topic switching)
FOLLOWUP_OFFER_LIMIT=6

# FOLLOWUP_PREV_ANSWER_MAX_CHARS = how much of previous assistant answer is injected into prompt (smaller = cheaper/safer)
FOLLOWUP_PREV_ANSWER_MAX_CHARS=700

# CONTEXT_TOPIC_KEYWORDS_LIMIT = how many topic keywords we carry between turns (e.g., "food", "spa")
CONTEXT_TOPIC_KEYWORDS_LIMIT=5

# If the user types a category name like "გართობა და კულტურა" (without a number),
# default to showing this many offers from that category.
CATEGORY_BROWSE_DEFAULT_N=10

# LLM (choose a provider)
LLM_PROVIDER=gemini
LLM_MODEL=gemini-1.5-flash

# OpenAI
OPENAI_API_KEY=YOUR_OPENAI_KEY

# Gemini
GEMINI_API_KEY=YOUR_GEMINI_KEY
